
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Introduction &#8212; My sample book</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css?v=be8a1c11" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=ff57258c" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'index';</script>
    <script src="_static/searchindex.js?v=85f58a90"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Camel Farrier - Version control for open hydrological data quality management" href="intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="#">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/logo.png" class="logo__image only-light" alt="My sample book - Home"/>
    <script>document.write(`<img src="_static/logo.png" class="logo__image only-dark" alt="My sample book - Home"/>`);</script>
  
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1 current active">
                <a class="reference internal" href="#">
                    Introduction
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Camel Farrier</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Camel Farrier - Version control for open hydrological data quality management</a></li>
<li class="toctree-l1"><a class="reference internal" href="revision_summary.html">Summary of Revision Changes</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Streamflow Monitoring Stations</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="station_pages/index.html">Stations</a></li>
<li class="toctree-l1"><a class="reference internal" href="station_pages/stations/02EC009.html">02EC009: HOLLAND RIVER EAST BRANCH AT HOLLAND LANDING</a></li>
<li class="toctree-l1"><a class="reference internal" href="station_pages/stations/05JA006.html">05JA006: SIX MILE CREEK NEAR GLENTWORTH</a></li>
<li class="toctree-l1"><a class="reference internal" href="station_pages/stations/08HF013.html">08HF013: SIMPSON CREEK NEAR KOPRINO HARBOUR</a></li>
<li class="toctree-l1"><a class="reference internal" href="station_pages/stations/08NM240.html">08NM240: TWO FORTY CREEK NEAR PENTICTON</a></li>
<li class="toctree-l1"><a class="reference internal" href="station_pages/stations/10KB001.html">10KB001: CARCAJOU RIVER BELOW IMPERIAL RIVER</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/dankovacek/camel_farrier" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/dankovacek/camel_farrier/issues/new?title=Issue%20on%20page%20%2Findex.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/index.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Introduction</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abstract">Abstract</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gap-statement">Gap Statement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#large-sample-datasets">Large Sample Datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advantages-of-open-source-development-practices">Advantages of Open Source Development Practices:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quantifying-the-effect-of-changes-to-catchment-polygons-on-input-data">Quantifying the effect of changes to catchment polygons on input data:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach">Approach</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Link to this heading">#</a></h1>
<p>Version Control for Hydrometric Data Management.</p>
<section id="abstract">
<h2>Abstract<a class="headerlink" href="#abstract" title="Link to this heading">#</a></h2>
<p>Catchment attributes and meteorological forcings of streamflow monitored basins are widely used in hydrological modelling. Recent developments in standardized data processing pipelines for extracting catchment information have significantly improved the consistency and quality of hydrological model inputs. Harmonization of input datasets has made research more comparable, and has enabled the merging of regional and continental large sample hydrology (LSH) datasets. The LSH dataset development workflow requires accurate catchment polygons to define the upstream contributing area for capturing time series meteorological inputs, and to define catchment attributes associated with the hydrological response from gridded geospatial input data.  The delineation of catchments is not typically treated in LSH datasets since the delination of these is typically left to the governing authority responsible for streamflow monitoring.  Catchment boundaries represent a source of uncertainty in large sample hydrology datasets, and they represent an opportunity to further improve the quality of LSH datasets.  Neural network based modelling specifically benefits from large, diverse samples of catchments, and addressing uncertainty in catchment delineation could help recover some monitored catchments currently excluded on the basis of uncertainty in the catchment delineation.</p>
<p>In this paper we introduce Camel Farrier, a conceptual quality-control framework for streamflow monitoring data informed by standard practice from software development, including version control, bug reporting, community discussion, pull requests, automated testing, and versioning.  Using the HYDAT dataset as a case study, we demonstrate how similar practices could be adopted by governing agencies responsible for streamflow monitoring and applied in practice to improve the quality, consistency, and transparency of streamflow monitoring data.</p>
<p>Why doesn’t each streamflow monitoring station have its own page with complete diagnostic information, rating curves, etc.?</p>
</section>
<section id="id1">
<h2>Introduction<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<p>Recent studies show that machine learning approaches, in particular Long Short-Term Memory networks (LSTMS), are competitive with state of the art process-based models in daily rainfall-runoff modelling. Both approaches use large samples of monitored catchments for parameter calibration and model training. Regionalization of physical-conceptual rainfall-runoff model parameters and training neural network models for streamflow prediction in ungauged basins requires a large sample hydrology dataset.  Regardless of the approach, the quality of input data derived from streamflow monitoring is critical to predictive performance.  The data describing each catchment come from various sources, including manual and automatic measurements of water level and volumetric flow, geospatial data products describing terrain, land cover, soil, and meteorological time series.</p>
</section>
<section id="gap-statement">
<h2>Gap Statement<a class="headerlink" href="#gap-statement" title="Link to this heading">#</a></h2>
<p>The availability of high-quality, well-documented datasets is crucial for advancing research and improving water resource management. However, many datasets remain isolated within specific agencies or institutions, limiting their accessibility and usability for the broader scientific community.  The open publication of national-scale monitoring network data is a relatively new advancement, but there remains considerable opportunity to improve the documentation around the provenance of streamflow data, and related information about the catchment and its hydrological characteristics.</p>
<p>The many non-government practitioners whose use of streamflow monitoring data affects water resources decisions on a day-to-day basis, in particular under-resourced organizations, small communities, etc.</p>
<p>Sophisticated software exists for management and analysis of water resources data: Aquarius is a software platform designed to support the management and analysis of environmental data, including streamflow monitoring data. It provides tools for data visualization, management, and quality control for practitioners in the field of hydrology.  It is widely used by agencies responsible for national monitoring networks, but it is a proprietary software, which has limitations.  The Camel Farrier framework is not presented as a replacement to Aquarius but rather as a complementary approach or an in interface that leverages existing open source software to improve the quality of streamflow monitoring data for the greater public.  Aquarius has a well-documented application programming interface (API) that is well suited to automating large-scale data processing tasks, in particular for rolling out updates, which represents another significant opportunity for improvement.</p>
<p>The Canadian National Water Data Archive (HYDAT) is a database that contains streamflow monitoring information for all of Canada.  HYDAT is updated quarterly, and at present it is published as a link on a government website.  The relational database format is an efficient mode of storing and transmitting the (body) of water resource data, but it misses important context and metadata.  Catchment polygons are provided separately, and these have recently undergone extensive quality review, however no documentation of the DEM, the data pre-processing, any subjective modifications that occurred in their processing.</p>
</section>
<section id="large-sample-datasets">
<h2>Large Sample Datasets<a class="headerlink" href="#large-sample-datasets" title="Link to this heading">#</a></h2>
<p>Do et al. (2018) trace the evolution of large-sample hydrology (LSH) datasets from early collections, like the Global Runoff Database and MOPEX, which provided extensive streamflow and hydrometeorological records, to the incorporation of geospatial attributes in GAGES-II. These precursor datasets evolved into CAMELS, which combined both data types for numerous US catchments, later expanding regionally with versions from Chile, Brazil, Australia, and Great Britain, and across Europe. The HYSETS dataset covered North America and Mexico, and the recent Caravan dataset unified these diverse resources into a standardized, global framework for hydrological modeling.</p>
<p>A challenge common to these datasets is the exclusion of small catchments due to uncertainties in catchment delineation, underscoring the need for improved, standardized processes at the first steps of catchment representation.</p>
<p>(Caravan / Google Earth Engine) represents a significant contribution in the standardization of the workflow used to extract attributes and time series meteorological forcings corresponding to monitored catchments from a growing variety of geospatial data sources.</p>
<p>The basis of extracting static attributes and forcings is the catchment polygon. Polygons in North America included in the Caravan dataset come from from the Camels dataset (contiguous USA) and Hysets dataset (North America and Mexico). Hysets polygons were obtained from governing bodies (WSC, USGS, Conagua), and methods used to generate these polygons are not documented, and catchment polygons are unique to the digital elevation source and to the methodological choices used in delineating catchment polygons.</p>
<p>Governing bodies like the USGS and WSC do not guarantee the accuracy of catchment polygons, and this information is periodically updated. Both the catchment polygons and the datasets used to describe attributes and climate forcings are subject to change in ways that materially affect the quality of the input data used to train rainfall-runoff models that are used to support water resources decisions.</p>
<p>Opportunities for Addressing Uncertainty in Catchment Polygons
The quality of large sample hydrology datasets could benefit from standard practice procedures in software development version control and publication in open source repositories using standardized testing and documentation practices. This would allow for the transparent and documented history of changes to catchment polygons, and a platform for sharing knowledge about uncertainties in catchment delineation.</p>
<p>LSH datasets have excluded (or flagged) small catchments on the basis of uncertainty in catchment delineation and as well on the basis of the daily observation frequency being insufficient to capture the dynamics of the basin response. Higher frequency observations are already published by many governing agencies (WSC, USGS), and streamflow forecasting research is already using hourly data. The inclusion of small catchments in LSH datasets is therefore necessary to improve the quality and diversity of training data for model calibration.</p>
<p>The smallest catchment in the Caravan dataset is X km2, and the smallest dataset in the HYSETS dataset is X km2, though roughly 1/3 of the catchments in the datset are represented by a square centred at the station location.</p>
<p>Delineation of small catchments is uncertain in the case of discontinued monitoring stations where recorded geographic coordinates are approximate. These historical records could add valuable information for model training.</p>
<p>The water survey of Canada published updates to the streamflow monitoring network catchment polygons in July 2022 and September 2024. The polygons in this set represent significant changes in X of the catchments included in the HYSETS dataset.</p>
<p>Catchment polygons are derived by many groups, and there does not exist a platform for sharing knowledge about uncertainties in catchment delineation. We propose adopting version control and crowd-sourced quality control to catchment polygons. This will allow for a transparent and documented history of changes to catchment polygons, and a platform for sharing knowledge about uncertainties in catchment delineation.</p>
<p>These polygons are often created by hand, and are subject to errors and inconsistencies. This project aims to crowd-source the quality control of these polygons, and to provide a version-controlled history of changes to the polygons.</p>
</section>
<section id="advantages-of-open-source-development-practices">
<h2>Advantages of Open Source Development Practices:<a class="headerlink" href="#advantages-of-open-source-development-practices" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>ability to track changes to catchment polygons and see the downstream impact on derived attributes</p></li>
<li><p>platform for sharing knowledge about uncertainties in catchment delineation</p></li>
<li><p>standardization of catchment delineation methods</p></li>
<li><p>broader expert knowledge can be applied to review process</p></li>
<li><p>explicit documentation of decisions made regarding catchment delineation, standardized testing, and review process</p></li>
<li><p>automated testing of revisions to identify significant changes with respect to input data, and trigger updates to LSH datasets</p></li>
<li><p>versioning of polygon datasets can be linked to versioning of large sample hydrology datasets</p></li>
</ul>
</section>
<section id="quantifying-the-effect-of-changes-to-catchment-polygons-on-input-data">
<h2>Quantifying the effect of changes to catchment polygons on input data:<a class="headerlink" href="#quantifying-the-effect-of-changes-to-catchment-polygons-on-input-data" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>how many catchments were affected?</p></li>
<li><p>what was the change in area (magnitude)?</p></li>
<li><p>what was the change in overlapping area (Jaccard index)?</p></li>
<li><p>what pct change in area reflects a significant change in input data quality? – depends on magnitude of change but also variability of spatial data within the catchment</p></li>
</ul>
</section>
<section id="approach">
<h2>Approach<a class="headerlink" href="#approach" title="Link to this heading">#</a></h2>
<p>The objective is to take the data collected according to the Manual of British Columbia Hydrometric Standards &#64;cite{resources2018manual} and organize it in a systematic way that enables greater transparency in the revision process, making use of powerful tools for automated tracking revision histories, for highlighting changes to support efficient review processes, and uses existing platforms to support contributions from expert practitioners outside of official organizations.</p>
<ul class="simple">
<li><p>host streamflow monitoring data in a public, open-source repository</p></li>
<li><p>each monitoring station has a unique identifier (e.g. <code class="docutils literal notranslate"><span class="pre">Official_ID</span></code> – add note about USGS non-unique zero-padded numbering system)</p></li>
<li><p>each unique identifier has a dedicated folder that contains all associated hydrological information</p>
<ul>
<li><p>site metadata (installation date, geographic coordinates, Name, geographic references, benchmark survey, control section surveys)</p></li>
<li><p>timeseries water level observations</p>
<ul>
<li><p>sensor metadata</p></li>
</ul>
</li>
<li><p>field observations</p>
<ul>
<li><p>field work metadata (field notes)</p></li>
<li><p>volumetric flow measurements</p>
<ul>
<li><p>measurement metadata</p></li>
<li><p>instrument type</p></li>
<li><p>uncertainty estimate</p></li>
</ul>
</li>
<li><p>independent water level validation (survey)</p></li>
</ul>
</li>
<li><p>rating curves with valid dates</p></li>
</ul>
</li>
<li><p>Github has built in features to support community contributions</p>
<ul>
<li><p>discussions and bug reports are openly accessible, fostering community engagement, transparency, and providing concrete examples of best practices</p></li>
<li><p>community members can open a discussion about some aspect of the data collected in relation to a streamflow monitored catchment</p></li>
<li><p>authorized repository manager follows up to determine whether a new issue should be opened</p></li>
<li><p>issues are opened using a template to systematically describe the situation and outline suggested changes</p></li>
<li><p>issues can be assigned to individuals within the organization, and they are open to outside contributors</p></li>
<li><p>anyone can work on a solution to any issue, and a dedicated discussion thread exists to facilitate collaboration</p></li>
<li><p>an automated test suite is run on the proposed changes to ensure minimum standards are met in terms of data quality and completeness</p></li>
<li><p>acceptance / integration of changes ultimately remains with the repository manager – the agency governing data collection (WSC/USGS)</p></li>
<li><p>all changes are documented in the repository’s history, providing a clear audit trail</p></li>
<li><p>acceptance and integration can trigger automated workflows (e.g. updating documentation, revising database files)</p></li>
<li><p>all revisions are linked to specific issues or discussions, providing context for the changes made</p></li>
<li><p>the dataset can be “checked out” at any specific point in its history, allowing users to easily access previous versions of the data</p></li>
</ul>
</li>
<li><p>guidelines for testing</p>
<ul>
<li><p>issue reports can trigger a review process</p></li>
<li><p>include a code to derive the catchment polygon (e.g. to highlight disagreement between data sources)</p></li>
<li><p>include a polygon manually adjusted based on other information (expert knowledge, historical records, additional survey, etc.)</p></li>
<li><p>review process can be partially automated</p></li>
<li><p>a suite of tests can be run on the catchment polygon to identify the significance of changes with respect to input data -</p></li>
<li><p>the review process results in either: 1) no change, or 2) a pull request:
*pull request is approved by the community</p>
<ul>
<li><p>pull request is merged into the main branch</p></li>
<li><p>pull request triggers a new version of the catchment polygon</p></li>
<li><p>pull request triggers a new version of the input data</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="references">
<h2>References<a class="headerlink" href="#references" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Arsenault, R., Brissette, F., Martel, J.-L., Troin, M., Lévesque, G., Davidson-Chaput, J., Gonzalez, M. C., Ameli, A., and Poulin, A.: A comprehensive, multisource database for hydrometeorological modeling of 14,425 North American watersheds, Scientific Data, 7, 243, <a class="reference external" href="https://doi.org/10.1038/s41597-020-00583-2">https://doi.org/10.1038/s41597-020-00583-2</a>, 2020.</p></li>
</ol>
</section>
<div class="toctree-wrapper compound">
</div>
<div class="toctree-wrapper compound">
</div>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="right-next"
       href="intro.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Camel Farrier - Version control for open hydrological data quality management</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#abstract">Abstract</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Introduction</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#gap-statement">Gap Statement</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#large-sample-datasets">Large Sample Datasets</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#advantages-of-open-source-development-practices">Advantages of Open Source Development Practices:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#quantifying-the-effect-of-changes-to-catchment-polygons-on-input-data">Quantifying the effect of changes to catchment polygons on input data:</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#approach">Approach</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#references">References</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By The Jupyter Book Community
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>